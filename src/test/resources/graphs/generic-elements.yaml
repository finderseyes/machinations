# Sample graph.
# NOTE: edge-like structures (connections, triggers, activators) are defined by strings in two forms
# - Relative form: to define edge from a node, will have the form [label] --> target_node_id [(edge_id)]
# - Absolute form: to define edge from out side a node, having form: source_node_id --> [label -->] target_node_id [edge_id]

# NOTE: identifier names must begin with a lowercase character, due to ambiguity with Dice number (starting with D).
---
nodes:
  - type: pool
    id: p0
    name: aaa
    resources: 125 mana, 30 gold
    capacity: 200 mana
    connections:
      - --> p1 (p0_p1)
      - 2D10 --> p2 (p0_p2)
      - --> p3
    modifiers:
      - +2 --> p1
    triggers:
      - --> p1
      - --> p0_p1
    activators:
      - ">= 5 --> p1"

  - type: pool
    id: p1
    name: bbb
    activationMode: automatic
    flowMode: pushAny
    modifiers:
      - +3 --> p0_p1
#    modifiers:
#      - 1 --> e1
#    triggers:
#      - --> n0

  - type: pool
    name: ccc
    id: p2
    activationMode: interactive
    flowMode: pullAll
    resources: 100

  - type: pool
    name: ddd
    id: p3
    activationMode: startingAction
    flowMode: pushAll
    resources: 100, 100

  - type: pool
    name: eee
    id: p4
    activationMode: passive
    flowMode: pullAny

connections:
  - p2 --> p3 (p2_p3)
  - p2 --> 5D+10 --> p4 (p2_p4)

modifiers:
  - p3 --> +3 --> p4

triggers:
  - p0 --> p2
  - p0 --> p2_p3

activators:
  - p2 --> == 1 --> p3
